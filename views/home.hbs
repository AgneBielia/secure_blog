<!DOCTYPE html>
<html lang="en">
<body>
<div class="container pt-5 pb-3 w-75 hstack justify-content-between">

    <h5 class="text-center ">Recent posts</h5>
    <a class="btn btn-outline-primary text-decoration-none shadow" role="button" href="/posts/new">Write a new post</a>
</div>
{{#if posts}}
    {{#each posts}}
        <article class="container w-75">
            <div class="hstack gap-3 justify-content-between bg-dark rounded-3 py-3 px-3 card shadow-lg my-3 border-light border-opacity-10">
                <div style="width: 90%;">
                    <header class="hstack gap-1 pb-3 justify-content-between align-items-center">
                        <h2><a class="link-light text-decoration-none p-1" href="/posts/{{this.id}}">{{this.title}}</a>
                        </h2>
                        <p class="text-light text-opacity-50 small">Posted by <span
                                class="text-capitalize">{{this.author}}</span> at {{this.created_at}}</p>
                    </header>
                    <p class="opacity-75">{{this.content}}</p>
                    <a href="/posts/{{this.id}}#comments" class="text-decoration-none px-3 text-light">
                        <i class="bi bi-chat"></i>
                        {{this.comment_count}}
                    </a>
                </div>
                <div style="width: 50px;" class="text-end">
                    <a class="btn btn-dark link-light text-decoration-none" role="button" href="/posts/{{ this.id }}">
                        <i class="text-end h3 bi bi-chevron-right"></i>
                    </a>
                </div>
            </div>
        </article>
    {{/each}}
{{else}}
    <i class="d-flex justify-content-center pt-5 text-danger h1 bi bi-heartbreak"></i>
    <h3 class="d-flex justify-content-center py-5 opacity-50">No posts are available at this time</h3>
{{/if}}
{{#if pages}}
    <div class="d-flex justify-content-center p-3 pb-5">
        <a href="/?page={{previous}}" type="button" class="btn btn-outline-primary rounded-start rounded-0 {{#unless previous}}disabled{{/unless}}">Previous</a>
        {{#each pages}}
            <a type="button" class="btn btn-outline-primary rounded-0 border-start-0 {{#if this.current}}active{{/if}}" href="/?page={{ this.page }}">
                {{this.page}}
            </a>
        {{/each}}
        <a href="/?page={{next}}" type="button" class="btn btn-outline-primary rounded-end rounded-0 border-start-0 {{#unless next}}disabled{{/unless}}">Next</a>
    </div>
{{/if}}
</body>
</html>